<script>    $(document).ready(function(){        $('#name').on('keyup change',function(){            var name = $('#name').val();            $.post( url + "admin/product/generateLink", { name : name})                .done(function(data ) {                    $('#link').val(data);                    $('#full-link').val(url+'chi-tiet/'+data+'.html');                });        })        $('#link').keyup(function(){            var link = $('#link').val();            $('#full-link').val(url+'chi-tiet/'+link+'.html');        })        $(".img-product").click(function(){            var avatar = $(this).attr('id');            var id = $('#id-hidden').val();            $.post( url + "admin/product/avatar", { avatar : avatar , id : id })            $(".img-product").removeClass('avatar');            $(this).addClass('avatar')        })    })</script><style>    .avatar{        border : 1px solid #0000ff !important;    }    .attr-pad{        margin-bottom: 10px;    }	colorpicker-hidden{display: none;}    .colorpicker-visible{display: block!important;}    .select2-container .select2-selection--single{height: 34px!important;}    .select2-container--default .select2-selection--single .select2-selection__rendered{line-height: 34px!important;}        </style><input type="hidden" id="id-hidden" value="<?php echo (isset($info['id']))?$info['id']:"" ?>"><div class="portlet box blue">    <div class="portlet-title">        <div class="caption">            <i class="fa fa-reorder"></i><?php echo  (isset($info))?"Sửa ":"Thêm " ?>Dự Án        </div>        <div class="tools">            <a href="javascript:;" class="collapse">            </a>            <a href="javascript:;" class="reload">            </a>        </div>    </div>    <div class="portlet-body form">        <!-- BEGIN FORM-->        <form action='<?php echo base_url()?>admin/product/<?php echo $action ?>/<?php echo  (isset($info['id']))?$info['id']:"" ?>' class="form-horizontal" method="post" enctype="multipart/form-data" id="a">            <div class="form-body">                <?php if(validation_errors()!=''){ ?>                    <div class="note note-danger" >                        <button type="button" class="close" data-dismiss="alert" aria-hidden="true"></button>                        <?php echo validation_errors() ?>                    </div>                <?php } ?>                <?php if(isset($error)&&$error=="upload"){                    echo "<div class='note note-danger'>";                    echo "<button type='button' class='close' data-dismiss='alert'>&times;</button>";                    echo "Upload ảnh chưa chính xác !!!";                    echo "   </div>";                } ?>                <div class="col-md-offset-2 col-md-10" style="margin-bottom: 20px ; margin-top: 20px">                    Ghi Chú : Những trường đánh dấu (*) là những trường bắt buộc .                </div>                <h3 class="form-section">Thông tin chung</h3>                <div class="form-group">                    <label class="col-md-2 control-label">Tên Dự Án (*)</label>                    <div class="col-md-4">                        <input type="text" id='name' required="required" name='name' placeholder="Tên Dự Án ..." class='form-control' value='<?php                        echo (isset($info))?$info['name']:"" ?>' />                    </div>                </div>                <div class="form-group">                    <label class="col-md-2 control-label">Đường Dẫn (*)</label>                    <div class="col-md-4">                        <input type="text" id='link' readonly="" required="required" name='link' placeholder="Đường Dẫn ..." class='form-control' value='<?php                        echo (isset($info))?$info['link']:"" ?>' />                    </div>                </div>                <div class="form-group">                    <label class="col-md-2 control-label">Info</label>                    <div class="col-md-6">                        <textarea name="info" style="width: 100%;" rows="5" ><?php echo (isset($info))?$info['info']:""?></textarea>                    </div>                </div>                <div class="form-group">                    <label class="col-md-2 control-label">Key Word (*)</label>                    <div class="col-md-4">                        <input type="text" required="required" id='keyword' name='keyword' placeholder="Key Word ..." class='form-control' value='<?php                        echo (isset($info))?$info['keyword']:"" ?>' />                    </div>                </div>                <div class="form-group">                    <label class="col-md-2 control-label">Description (*)</label>                    <div class="col-md-10">                        <textarea name="content" class="ckeditor"><?php echo (isset($info)) ? $info['content']:"" ?></textarea>                    </div>                </div>                <?php if(!isset($info['image'])){ ?>                    <div class="form-group">                        <label class="col-md-2 control-label">Hình Ảnh (620x360)</label>                        <div class="col-md-4">                            <input type="file" name="images[]" class="file-input" title="Hình Ảnh" multiple="" />                        </div>                    </div>                <?php }else{ ?>                    <div class="form-group">                        <label class="col-md-2 control-label">Hình Ảnh (620x360)</label>                        <div class="col-md-10">                            <?php                            $image = json_decode($info['image']);                            foreach($image as $key=>$val){                                ?>                                <img id="<?php echo $key ?>" class="img-product <?php echo (isset($info)&&$info['avatar']==$key)?"avatar":"" ?>" src="<?php echo base_url().'public/product/'.$info['id'].'/'.$val ?>" style="max-height: 50px; border: 1px solid #CCC ; padding: 2px">                            <?php } ?>                            <a class="demo btn btn-primary"  href="<?php echo base_url() ?>admin/product/image/<?php echo $info['id'] ?>">Quản Lý</a>                        </div>                    </div>                <?php } ?>                <h3 class="form-section">Thời gian</h3>                <div class="form-group">					<label class="control-label col-md-2">Ngày nhập</label>				       <div class="col-md-4">						<div class="input-group date form_meridian_datetime" data-date="<?php if(isset($info)) echo date("d-m-Y",$info['updated']); else echo date("d-m-Y",time()+6*3600); ?>">							<input type="text" size="16" readonly class="form-control" value="<?php if(isset($info)) echo date("d-m-Y",$info['updated']); else echo date("d-m-Y",time()+6*3600); ?>" name="date_update" />							<span class="input-group-btn">								<button class="btn default date-reset" type="button"><i class="fa fa-times"></i></button>							</span>							<span class="input-group-btn">								<button class="btn default date-set" type="button"><i class="fa fa-calendar"></i></button>							</span>						</div>						<!-- /input-group -->					</div>				</div>                <div class="form-group">					<label class="control-label col-md-2">Giờ nhập</label>					<div class="col-md-3">						<div class="input-icon">							<i class="fa fa-clock-o"></i>							<input type="text" class="form-control timepicker timepicker-update" value="<?php if(isset($info)) echo date("H:i:s",$info['updated']); else echo date("H:i:s",time()+6*3600); ?>" name="time_update" />						</div>					</div>				</div>            </div>            <div class="form-actions nobg fluid">                <div class="col-md-offset-3 col-md-9">                    <a href="<?php if(isset($info) && isset($info['is_copy']) && $info['is_copy']=='true') echo base_url().'admin/product/del/'.$info['id']; else echo base_url().'admin/product/listall'; ?>"  class="btn default">Hủy bỏ</a>                    <button class="btn green" value="back" name='ok' type='submit'>Xác Nhận & Trở lại</button>                    <button class="btn green" id='btn-ok' name='ok' type='submit'>Xác Nhận</button>                </div>            </div>            <input type="hidden" name="numAttribute" id="numAttribute" value="1" />        </form>        <!-- END FORM-->    </div></div><script>        $(document).ready(function(){        $('.timepicker-update').timepicker({            autoclose: true,            showSeconds: true,            minuteStep: 1,            showMeridian: false        });                        $( "body" ).on( "mousemove", '.file-input-wrapper',function(cursor) {            var input, wrapper,                wrapperX, wrapperY,                inputWidth, inputHeight,                cursorX, cursorY;            // This wrapper element (the button surround this file input)            wrapper = $(this);            // The invisible file input element            input = wrapper.find("input");            // The left-most position of the wrapper            wrapperX = wrapper.offset().left;            // The top-most position of the wrapper            wrapperY = wrapper.offset().top;            // The with of the browsers input field            inputWidth= input.width();            // The height of the browsers input field            inputHeight= input.height();            //The position of the cursor in the wrapper            cursorX = cursor.pageX;            cursorY = cursor.pageY;            //The positions we are to move the invisible file input            // The 20 at the end is an arbitrary number of pixels that we can shift the input such that cursor is not pointing at the end of the Browse button but somewhere nearer the middle            moveInputX = cursorX - wrapperX - inputWidth + 20;            // Slides the invisible input Browse button to be positioned middle under the cursor            moveInputY = cursorY- wrapperY - (inputHeight/2);            // Apply the positioning styles to actually move the invisible file input            input.css({                left:moveInputX,                top:moveInputY            });			        });    })    </script>